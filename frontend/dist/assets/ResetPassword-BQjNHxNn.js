import{a as r,j as e,e as o,g as y,w as g,m as v}from"./vendor-DRWF_35v.js";import{b as j,u as C,i as k,a as P,e as S,C as a,j as D}from"./index-Cyj1GRGR.js";import{C as R}from"./CustomSnackbar-MfbZEKOq.js";import"./stripe-huBLJZ7y.js";const B="/assets/Resetpassword-BDPjFwmt.png",T=()=>{const[c,x]=r.useState(""),[u,f]=r.useState(""),[t,n]=r.useState({open:!1,message:"",type:"success"}),i=j(),m=C(),{token:h}=k(),{isAuthenticated:p,error:d}=P(s=>s.authState),w=s=>{s.preventDefault();const l=new FormData;l.append("password",c),l.append("confirmPassword",u),i(D(l,h))};r.useEffect(()=>{if(p){n({open:!0,message:"Password Reset Success!",type:"success"}),m("/");return}d&&(n({open:!0,message:d,type:"error"}),i(S()))},[p,d,i,m]);const b=()=>{n({...t,open:!1})};return e.jsx(o,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:a.dark,color:a.inverse,padding:2},children:e.jsxs(o,{sx:{display:"flex",flexDirection:"row",backgroundColor:a.secondary,width:{xs:"90%",sm:"80%",md:"70%",lg:"60%"},height:{xs:"auto",md:"70vh"},borderRadius:2,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",overflow:"hidden"},children:[e.jsx(o,{sx:{flex:1,backgroundImage:`url(${B})`,backgroundSize:"cover",backgroundPosition:"center",display:{xs:"none",md:"block"}}}),e.jsxs(o,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:4},children:[e.jsx(y,{variant:"h5",gutterBottom:!0,children:"Reset Password"}),e.jsxs("form",{style:{width:"100%",maxWidth:400},onSubmit:w,children:[e.jsx(g,{fullWidth:!0,label:"Password",variant:"outlined",margin:"normal",type:"password",value:c,onChange:s=>x(s.target.value)}),e.jsx(g,{fullWidth:!0,label:"Confirm Password",variant:"outlined",margin:"normal",type:"password",value:u,onChange:s=>f(s.target.value)}),e.jsx(v,{fullWidth:!0,type:"submit",variant:"contained",sx:{marginTop:2,backgroundColor:a.dark,color:a.info,"&:hover":{backgroundColor:a.dim_gray}},children:"Set Password"})]}),e.jsx(R,{open:t.open,message:t.message,severity:t.type,handleClose:b})]})]})})};export{T as default};
