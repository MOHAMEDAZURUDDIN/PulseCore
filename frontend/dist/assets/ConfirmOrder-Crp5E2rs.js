import{a as m,j as n,e as s,g as o,q as d,m as y,K as k,H as w,J as $}from"./vendor-DRWF_35v.js";import{b as P,u as C,a as g,w as S,L as v,C as e}from"./index-Cyj1GRGR.js";import{v as G,C as F}from"./Shipping-C_oiWBXf.js";import"./stripe-huBLJZ7y.js";function R(){const b=P(),c=C(),{shippingInfo:t,items:x,loading:h}=g(r=>r.cartState),{user:u}=g(r=>r.authState);m.useEffect(()=>{b(S())},[b]),m.useEffect(()=>{!h&&!G(t)&&c("/shipping")},[h,t,c]);const i=x.reduce((r,l)=>r+l.product.price*l.quantity,0),p=i>400?0:10;let a=Number(.05*i);const f=Number(i+p+a).toFixed(2);a=Number(a).toFixed(2);const j=()=>{const r={itemsPrice:i,shippingPrice:p,taxPrice:a,totalPrice:f};sessionStorage.setItem("orderInfo",JSON.stringify(r)),c("/payment")};return h||!t||!x?n.jsx(v,{}):n.jsxs(s,{sx:{minHeight:"100vh",bgcolor:e.deepBlack,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",py:8},children:[n.jsx(s,{sx:{position:"absolute",top:0,left:0,right:0,height:"50vh",background:`linear-gradient(135deg, ${e.semiDark} 0%, ${e.warning} 100%)`,clipPath:"polygon(0 0, 100% 0, 100% 60%, 0 100%)",opacity:.9,zIndex:0,animation:"glow 4s infinite alternate","@keyframes glow":{"0%":{opacity:.7,transform:"scale(1)"},"100%":{opacity:1,transform:"scale(1.05)"}}}}),n.jsxs(s,{sx:{zIndex:2,width:"100%",maxWidth:1200,mt:10},children:[n.jsx(F,{shipping:!0,confirmOrder:!0}),n.jsx(o,{variant:"h2",align:"center",sx:{fontFamily:"'Orbitron', sans-serif",fontWeight:900,background:`linear-gradient(90deg, ${e.shaft}, ${e.neonPink})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`0 0 15px ${e.neonGreen}80`,mb:6},children:"Confirm Your Order"}),n.jsxs(s,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,justifyContent:"center",px:{xs:2,md:0}},children:[n.jsxs(s,{sx:{width:{xs:"100%",md:"33%"},bgcolor:`${e.darkGray}E6`,borderRadius:3,p:3,boxShadow:`0 0 20px ${e.neonPink}4D`,border:`1px solid ${e.neonGreen}33`,backdropFilter:"blur(10px)"},children:[n.jsx(o,{variant:"h5",sx:{fontFamily:"'Orbitron', sans-serif",color:e.neonGreen,fontWeight:"bold",mb:2},children:"Shipping Info"}),n.jsx(d,{sx:{bgcolor:e.neonPink,mb:2}}),n.jsxs(o,{sx:{color:e.white,mb:1},children:[n.jsx("strong",{children:"Name:"})," ",n.jsx("span",{style:{color:e.neonPink},children:u.name})]}),n.jsxs(o,{sx:{color:e.white,mb:1},children:[n.jsx("strong",{children:"Phone:"})," ",n.jsx("span",{style:{color:e.neonPink},children:t.phoneNo})]}),n.jsxs(o,{sx:{color:e.white},children:[n.jsx("strong",{children:"Address:"})," ",n.jsxs("span",{style:{color:e.neonPink},children:[t.address,", ",t.city,","," ",t.postalCode,", ",t.state,","," ",t.country]})]})]}),n.jsxs(s,{sx:{width:{xs:"100%",md:"66%"},display:"flex",flexDirection:"column",gap:4},children:[n.jsxs(s,{sx:{bgcolor:`${e.darkGray}E6`,borderRadius:3,p:3,boxShadow:`0 0 20px ${e.neonGreen}4D`,border:`1px solid ${e.neonPink}33`,backdropFilter:"blur(10px)"},children:[n.jsx(o,{variant:"h5",sx:{fontFamily:"'Orbitron', sans-serif",color:e.neonPink,fontWeight:"bold",mb:2},children:"Order Summary"}),n.jsx(d,{sx:{bgcolor:e.neonGreen,mb:2}}),n.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[n.jsx(o,{sx:{color:e.white},children:"Subtotal:"}),n.jsxs(o,{sx:{color:e.neonGreen,fontWeight:"bold"},children:["$",i.toFixed(2)]})]}),n.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[n.jsx(o,{sx:{color:e.white},children:"Shipping:"}),n.jsxs(o,{sx:{color:e.neonGreen,fontWeight:"bold"},children:["$",p]})]}),n.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[n.jsx(o,{sx:{color:e.white},children:"Tax:"}),n.jsxs(o,{sx:{color:e.neonGreen,fontWeight:"bold"},children:["$",a]})]}),n.jsx(d,{sx:{bgcolor:e.neonPink,my:2}}),n.jsxs(s,{sx:{display:"flex",justifyContent:"space-between"},children:[n.jsx(o,{sx:{color:e.white,fontWeight:"bold"},children:"Total:"}),n.jsxs(o,{sx:{color:e.neonPink,fontWeight:"bold",fontSize:"1.5rem"},children:["$",f]})]}),n.jsx(y,{onClick:j,fullWidth:!0,variant:"contained",sx:{py:1.5,background:`linear-gradient(90deg, ${e.neonGreen}, ${e.teal})`,color:e.white,fontWeight:"600",fontFamily:"'Orbitron', sans-serif",borderRadius:2,boxShadow:`0 0 15px ${e.neonGreen}80`,"&:hover":{transform:"translateY(-3px)",boxShadow:`0 0 25px ${e.neonPink}B3`,background:`linear-gradient(90deg, ${e.neonPink}, ${e.orangered})`},transition:"all 0.3s ease"},children:"Proceed to Payment"})]}),n.jsxs(s,{sx:{bgcolor:`${e.darkGray}E6`,borderRadius:3,p:3,boxShadow:`0 0 20px ${e.neonPink}4D`,border:`1px solid ${e.neonGreen}33`,backdropFilter:"blur(10px)"},children:[n.jsx(o,{variant:"h5",sx:{fontFamily:"'Orbitron', sans-serif",color:e.neonGreen,fontWeight:"bold",mb:2},children:"Your Cart Items"}),n.jsx(d,{sx:{bgcolor:e.neonPink,mb:2}}),x.map((r,l)=>n.jsxs(k,{sx:{display:"flex",alignItems:"center",bgcolor:`${e.semiDark}CC`,borderRadius:2,mb:2,p:2,boxShadow:`0 0 10px ${e.neonGreen}80`,"&:hover":{transform:"scale(1.02)",boxShadow:`0 0 15px ${e.neonPink}B3`,transition:"all 0.3s ease"}},children:[n.jsx(w,{component:"img",sx:{width:80,height:80,objectFit:"cover",borderRadius:2,transform:"rotate(-12deg)","&:hover":{transform:"rotate(0deg)",transition:"transform 0.5s ease"}},image:r.product.images[0],alt:r.product.name}),n.jsxs($,{sx:{flex:1,ml:2},children:[n.jsx(o,{sx:{color:e.white,fontFamily:"'Orbitron', sans-serif"},children:r.product.name}),n.jsx(s,{sx:{bgcolor:e.neonPink,borderRadius:1,p:1,textAlign:"center",mt:1},children:n.jsxs(o,{sx:{color:e.deepBlack,fontWeight:"bold",fontFamily:"'Orbitron', sans-serif"},children:[r.quantity," x $",r.product.price," = $",n.jsx("span",{style:{color:e.neonGreen},children:(r.quantity*r.product.price).toFixed(2)})]})})]})]},l))]})]})]})]})]})}export{R as default};
